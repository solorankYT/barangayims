import{K as _,r as C,j as e,S as y}from"./app-BUJ-Xs52.js";import{D as v,a as W,b as B,T as a,g as o,I as d,S as h,c as S}from"./TextField-DtEF5oPB.js";import{G as s}from"./Grid-pnX0zcTp.js";import{T as m,B as p}from"./Menu-BBYLuhnE.js";import{M as n}from"./MenuItem-DcNJRPM_.js";import{F,C as k}from"./FormControlLabel-BsujJWue.js";import"./useControlled-dll_wIeD.js";import"./index-Bim1y6ZO.js";const P=({open:f,handleClose:l})=>{const{auth:u}=_().props,[t,c]=C.useState({resident_id:u.user.id,full_name:u.user.name,date_of_birth:"",sex:"",civil_status:"",contact_number:"",email:u.user.email||"",address:"",years_of_residency:"",valid_id_type:"",valid_id_file:null,certificate_type:"",purpose:"",employer_school_agency:"",supporting_document:null,business_name:"",business_address:"",business_nature:"",business_owner:"",business_registration_number:"",business_documents:null,agree_terms:!1}),i=r=>{c({...t,[r.target.name]:r.target.value})},x=r=>{c({...t,[r.target.name]:r.target.files[0]})},g=r=>{c({...t,agree_terms:r.target.checked})},b=()=>{const r=new FormData;Object.keys(t).forEach(j=>{r.append(j,t[j])}),y.post("/certificate-application",r,{onSuccess:()=>l()})};return e.jsxs(v,{open:f,onClose:l,fullWidth:!0,maxWidth:"md",children:[e.jsx(W,{children:"Apply for a Barangay Certificate"}),e.jsx(B,{children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(m,{variant:"h6",children:"Resident Information"})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{label:"Full Name",fullWidth:!0,value:t.full_name,disabled:!0})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"date_of_birth",label:"Date of Birth",type:"date",fullWidth:!0,InputLabelProps:{shrink:!0},onChange:i})}),e.jsx(s,{item:!0,xs:6,children:e.jsxs(o,{fullWidth:!0,children:[e.jsx(d,{children:"Sex"}),e.jsxs(h,{name:"sex",value:t.sex,onChange:i,children:[e.jsx(n,{value:"Male",children:"Male"}),e.jsx(n,{value:"Female",children:"Female"})]})]})}),e.jsx(s,{item:!0,xs:6,children:e.jsxs(o,{fullWidth:!0,children:[e.jsx(d,{children:"Civil Status"}),e.jsxs(h,{name:"civil_status",value:t.civil_status,onChange:i,children:[e.jsx(n,{value:"Single",children:"Single"}),e.jsx(n,{value:"Married",children:"Married"}),e.jsx(n,{value:"Widowed",children:"Widowed"}),e.jsx(n,{value:"Separated",children:"Separated"})]})]})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"contact_number",label:"Contact Number",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"email",label:"Email Address",fullWidth:!0,value:t.email,disabled:!0})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(a,{name:"address",label:"Complete Address",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(m,{variant:"h6",children:"Certificate Application"})}),e.jsx(s,{item:!0,xs:6,children:e.jsxs(o,{fullWidth:!0,children:[e.jsx(d,{children:"Certificate Type"}),e.jsxs(h,{name:"certificate_type",value:t.certificate_type,onChange:i,children:[e.jsx(n,{value:"Barangay Clearance",children:"Barangay Clearance"}),e.jsx(n,{value:"Certificate of Indigency",children:"Certificate of Indigency"}),e.jsx(n,{value:"First-Time Job Seeker Certificate",children:"First-Time Job Seeker Certificate"}),e.jsx(n,{value:"Barangay Business Permit",children:"Barangay Business Permit"})]})]})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"purpose",label:"Purpose of Application",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(a,{name:"employer_school_agency",label:"Employer/School/Agency (if applicable)",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:12,children:e.jsx("input",{type:"file",name:"supporting_document",accept:".pdf,.jpg,.png",onChange:x})}),t.certificate_type==="Barangay Business Permit"&&e.jsxs(e.Fragment,{children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(m,{variant:"h6",children:"Business Information"})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"business_name",label:"Business Name",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"business_owner",label:"Business Owner",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"business_address",label:"Business Address",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"business_nature",label:"Nature of Business",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(a,{name:"business_registration_number",label:"Business Registration Number",fullWidth:!0,onChange:i})}),e.jsx(s,{item:!0,xs:12,children:e.jsx("input",{type:"file",name:"business_documents",accept:".pdf,.jpg,.png",onChange:x})})]}),e.jsx(s,{item:!0,xs:12,children:e.jsx(F,{control:e.jsx(k,{checked:t.agree_terms,onChange:g}),label:"I hereby declare that the information provided is true and correct to the best of my knowledge."})})]})}),e.jsxs(S,{children:[e.jsx(p,{onClick:l,color:"secondary",children:"Cancel"}),e.jsx(p,{variant:"contained",color:"primary",onClick:b,disabled:!t.agree_terms,children:"Submit Application"})]})]})};export{P as default};
